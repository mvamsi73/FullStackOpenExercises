{"version":3,"sources":["Components.js","services/ContactService.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","PersonForm","addNewPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Notification","message","className","Error","Persons","props","person","name","toLowerCase","includes","number","onClick","handleDelete","baseUrl","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","notificationmsg","setNotificationmsg","errorMessage","setErrorMessage","useEffect","axios","get","then","response","data","id","window","confirm","delete","deleteData","item","catch","error","setTimeout","n","event","preventDefault","target","console","log","split","join","length","find","note","changedNote","url","put","map","updateData","obj","newObject","post","res","concat","i","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.eeeb5878.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter=({filter,handleFilter})=>{\r\n  return(\r\n    <div>\r\n      filter shown with <input value={filter} onChange={handleFilter}/><br/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst PersonForm=({addNewPerson,newName,handleNameChange,newNumber,handleNumberChange})=>{\r\n  return(\r\n    <form onSubmit={addNewPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange}/><br/>\r\n          number: <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst Persons=(props)=>{\r\n  if( props.person.name.toLowerCase().includes(props.filter.toLowerCase()))\r\n  {\r\n  return(\r\n  <div>\r\n     {props.person.name} {props.person.number} <button onClick={props.handleDelete}>delete</button>\r\n    </div>\r\n    \r\n  )\r\n  }\r\n  else{\r\n    return(\r\n      <div></div>\r\n    )\r\n  }\r\n}\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\nconst Error = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\n    export default Persons;\r\n    export {Filter,PersonForm,Notification,Error};","import axios from 'axios'\r\nconst baseUrl = '/api/persons/'\r\n\r\nconst getData=()=>{\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst insertData=(newObject)=>{\r\n    return axios.post(baseUrl,newObject)\r\n}\r\n\r\nconst deleteData=(id)=>{\r\n    return axios.delete(`${baseUrl}${id}`)\r\n}\r\n\r\nconst updateData=(id,value,persons,setPersons)=>{\r\n\r\n    \r\n  const note = persons.find(n => n.id === id)\r\n  const changedNote = { ...note, number: value }\r\n  const url = `${baseUrl}${id}`\r\n\r\n   axios.put(url, changedNote).then(response => {\r\n    setPersons(persons.map(note => note.id !== id ? note : response.data))\r\n  })\r\n}\r\n\r\nexport  { \r\n    getData, insertData,deleteData,updateData\r\n  }","import React, { useState,useEffect } from 'react'\nimport Persons,{Filter,PersonForm,Notification,Error} from './Components'\nimport {getData,insertData,deleteData,updateData} from './services/ContactService.js'\nimport './index.css'\nconst App = () => {\n \n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber,setNewNumber]=useState([])\n  const [ filter,setFilter]=useState('')\n  const [notificationmsg,setNotificationmsg]=useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n   \n      getData().then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const handleNameChange=(event)=>{\n    event.preventDefault()\n     setNewName(event.target.value)\n  }\n  const handleNumberChange=(event)=>{\n    event.preventDefault()\n     setNewNumber(event.target.value)\n  }\n  const handleFilter=(event)=>{\n    event.preventDefault()\n    setFilter(event.target.value)\n  }\n\n  const handleDelete=(id,name)=>{\n    const result = window.confirm(`Delete ${name} ?`);\n    if(result===true)\n    { \n    deleteData(id).then(()=>{\n      setPersons(persons.filter(item => item.id !== id))\n      setErrorMessage(null)\n    })\n    .catch(error => {\n      setErrorMessage(\n        `Information of '${name}' has already been removed from server`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      setPersons(persons.filter(n => n.id !== id))\n    })\n   \n}}\n\n  const addNewPerson=(event)=>{\n    console.log(event.target)\n    event.preventDefault()\n    if(persons.filter(person=>person.name.split(' ').join('')===newName.split(' ').join('')).length===1)\n    {\n      const person=persons.find(n => n.name === newName)\n      const result = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`);\n      if(result===true)\n      {\n        updateData(person.id,newNumber,persons,setPersons)\n      setNewName('')\n      setNewNumber('')\n      }\n    }\n    else{\n     \n    const obj={\n      name:newName,\n      number:newNumber,\n    }\n    insertData(obj).then(res=>{\n    setPersons(persons.concat(res.data))\n    setNewNumber('')\n    setNewName('')\n    setNotificationmsg(`Added ${obj.name}`)\n    setTimeout(() => {\n      setNotificationmsg(null)\n    }, 5000)\n  }).catch(error=>{\n      console.log(error.response.data)\n      setNewNumber('')\n      setNewName('')\n      setErrorMessage(error.response.data.error)\n      setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n    })\n   \n    \n  }\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Error message={errorMessage}/>\n      <Notification message={notificationmsg}/>\n      <Filter filter={filter} handleFilter={handleFilter}/>\n      <h1>Add a New</h1>\n      <PersonForm addNewPerson={addNewPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <div>{persons.map((person,i)=><Persons key={i} person={person} filter={filter} handleDelete={()=>handleDelete(person.id,person.name)}/>)}</div>\n    </div>\n  )\n  }\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}