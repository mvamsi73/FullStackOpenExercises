{"version":3,"sources":["Components.js","services/ContactService.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","PersonForm","addNewPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Notification","message","className","Error","Persons","props","person","name","toLowerCase","includes","number","onClick","handleDelete","baseUrl","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","notificationmsg","errorMessage","setErrorMessage","useEffect","axios","get","then","response","data","id","window","confirm","delete","deleteData","item","catch","error","setTimeout","n","event","preventDefault","target","console","log","split","join","length","find","note","changedNote","url","put","map","updateData","newObject","post","res","concat","i","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.feb5857a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter=({filter,handleFilter})=>{\r\n  return(\r\n    <div>\r\n      filter shown with <input value={filter} onChange={handleFilter}/><br/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst PersonForm=({addNewPerson,newName,handleNameChange,newNumber,handleNumberChange})=>{\r\n  return(\r\n    <form onSubmit={addNewPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange}/><br/>\r\n          number: <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst Persons=(props)=>{\r\n  if( props.person.name.toLowerCase().includes(props.filter.toLowerCase()))\r\n  {\r\n  return(\r\n  <div>\r\n     {props.person.name} {props.person.number} <button onClick={props.handleDelete}>delete</button>\r\n    </div>\r\n    \r\n  )\r\n  }\r\n  else{\r\n    return(\r\n      <div></div>\r\n    )\r\n  }\r\n}\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\nconst Error = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\n    export default Persons;\r\n    export {Filter,PersonForm,Notification,Error};","import axios from 'axios'\r\nconst baseUrl = '/api/persons/'\r\n\r\nconst getData=()=>{\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst insertData=(newObject)=>{\r\n    return axios.post(baseUrl,newObject)\r\n}\r\n\r\nconst deleteData=(id)=>{\r\n    return axios.delete(`${baseUrl}${id}`)\r\n}\r\n\r\nconst updateData=(id,value,persons,setPersons)=>{\r\n\r\n    \r\n  const note = persons.find(n => n.id === id)\r\n  const changedNote = { ...note, number: value }\r\n  const url = `${baseUrl}${id}`\r\n\r\n   axios.put(url, changedNote).then(response => {\r\n    setPersons(persons.map(note => note.id !== id ? note : response.data))\r\n  })\r\n}\r\n\r\nexport  { \r\n    getData, insertData,deleteData,updateData\r\n  }","import React, { useState,useEffect } from 'react'\nimport Persons,{Filter,PersonForm,Notification,Error} from './Components'\nimport {getData,insertData,deleteData,updateData} from './services/ContactService.js'\nimport './index.css'\nconst App = () => {\n \n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber,setNewNumber]=useState([])\n  const [ filter,setFilter]=useState('')\n  const [notificationmsg,setNotificationmsg]=useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n   \n      getData().then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const handleNameChange=(event)=>{\n    event.preventDefault()\n     setNewName(event.target.value)\n  }\n  const handleNumberChange=(event)=>{\n    event.preventDefault()\n     setNewNumber(event.target.value)\n  }\n  const handleFilter=(event)=>{\n    event.preventDefault()\n    setFilter(event.target.value)\n  }\n\n  const handleDelete=(id,name)=>{\n    const result = window.confirm(`Delete ${name} ?`);\n    if(result===true)\n    { \n    deleteData(id).then(()=>{\n      setPersons(persons.filter(item => item.id !== id))\n      setErrorMessage(null)\n    })\n    .catch(error => {\n      setErrorMessage(\n        `Information of '${name}' has already been removed from server`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      setPersons(persons.filter(n => n.id !== id))\n    })\n   \n}}\n\n  const addNewPerson=(event)=>{\n    console.log(event.target)\n    event.preventDefault()\n    if(persons.filter(person=>person.name.split(' ').join('')===newName.split(' ').join('')).length===1)\n    {\n      const person=persons.find(n => n.name === newName)\n      const result = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`);\n      if(result===true)\n      {\n        updateData(person.id,newNumber,persons,setPersons)\n      setNewName('')\n      setNewNumber('')\n      }\n    }\n    else{\n     \n    const obj={\n      name:newName,\n      number:newNumber,\n    }\n    insertData(obj).then(res=>{\n    setPersons(persons.concat(res.data))}).catch(error=>{\n      console.log(error.response.data)\n      setNewNumber('')\n      setNewName('')\n      setErrorMessage(error.response.data.error)\n      setTimeout(() => {\n      setErrorMessage(null)\n    }, 5000)\n    })\n   \n    \n  }\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Error message={errorMessage}/>\n      <Notification message={notificationmsg}/>\n      <Filter filter={filter} handleFilter={handleFilter}/>\n      <h1>Add a New</h1>\n      <PersonForm addNewPerson={addNewPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <div>{persons.map((person,i)=><Persons key={i} person={person} filter={filter} handleDelete={()=>handleDelete(person.id,person.name)}/>)}</div>\n    </div>\n  )\n  }\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}