{"version":3,"sources":["Components.js","services/ContactService.js","App.js","index.js"],"names":["Filter","filter","handleFilter","value","onChange","PersonForm","addNewPerson","newName","handleNameChange","newNumber","handleNumberChange","onSubmit","type","Notification","message","className","Error","Persons","props","person","name","toLowerCase","includes","number","onClick","handleDelete","baseUrl","App","useState","persons","setPersons","setNewName","setNewNumber","setFilter","notificationmsg","setNotificationmsg","errorMessage","setErrorMessage","useEffect","axios","get","then","response","data","id","window","confirm","delete","deleteData","item","refid","catch","error","setTimeout","n","event","preventDefault","target","console","log","split","join","length","find","note","changedNote","url","put","map","updateData","obj","parseInt","newObject","post","res","a","concat","i","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b5bc812c.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter=({filter,handleFilter})=>{\r\n  return(\r\n    <div>\r\n      filter shown with <input value={filter} onChange={handleFilter}/><br/>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst PersonForm=({addNewPerson,newName,handleNameChange,newNumber,handleNumberChange})=>{\r\n  return(\r\n    <form onSubmit={addNewPerson}>\r\n        <div>\r\n          name: <input value={newName} onChange={handleNameChange}/><br/>\r\n          number: <input value={newNumber} onChange={handleNumberChange}/>\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n  )\r\n}\r\n\r\n\r\n\r\nconst Persons=(props)=>{\r\n  if( props.person.name.toLowerCase().includes(props.filter.toLowerCase()))\r\n  {\r\n  return(\r\n  <div>\r\n     {props.person.name} {props.person.number} <button onClick={props.handleDelete}>delete</button>\r\n    </div>\r\n    \r\n  )\r\n  }\r\n  else{\r\n    return(\r\n      <div></div>\r\n    )\r\n  }\r\n}\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"notification\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\nconst Error = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\n    export default Persons;\r\n    export {Filter,PersonForm,Notification,Error};","import axios from 'axios'\r\nconst baseUrl = '/api/persons/'\r\n\r\nconst getData=()=>{\r\n    return axios.get(baseUrl)\r\n}\r\n\r\nconst insertData=(newObject)=>{\r\n    return axios.post(baseUrl,newObject)\r\n}\r\n\r\nconst deleteData=(id)=>{\r\n    return axios.delete(`${baseUrl}${id}`)\r\n}\r\n\r\nconst updateData=(refid,value,persons,setPersons)=>{\r\n\r\n    \r\n  const note = persons.find(n => n.refid === refid)\r\n  const changedNote = { ...note, number: value }\r\n  const url = `${baseUrl}${note.id}`\r\n\r\n  axios.put(url, changedNote).then(response => {\r\n    setPersons(persons.map(note => note.refid !== refid ? note : response.data))\r\n  })\r\n}\r\n\r\nexport  { \r\n    getData, insertData,deleteData,updateData\r\n  }","import React, { useState,useEffect } from 'react'\nimport Persons,{Filter,PersonForm,Notification,Error} from './Components'\nimport {getData,insertData,deleteData,updateData} from './services/ContactService.js'\nimport './index.css'\nconst App = () => {\n \n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber,setNewNumber]=useState([])\n  const [ filter,setFilter]=useState('')\n  const [notificationmsg,setNotificationmsg]=useState(null)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n   \n      getData().then(response => {\n        setPersons(response.data)\n      })\n  }, [])\n\n  const handleNameChange=(event)=>{\n    event.preventDefault()\n     setNewName(event.target.value)\n  }\n  const handleNumberChange=(event)=>{\n    event.preventDefault()\n     setNewNumber(event.target.value)\n  }\n  const handleFilter=(event)=>{\n    event.preventDefault()\n    setFilter(event.target.value)\n  }\n\n  const handleDelete=(id,name)=>{\n    const result = window.confirm(`Delete ${name} ?`);\n    if(result===true)\n    { \n    deleteData(id).then(()=>{\n      setPersons(persons.filter(item => item.refid !== id))\n      setErrorMessage(null)\n    })\n    .catch(error => {\n      setErrorMessage(\n        `Information of '${name}' has already been removed from server`\n      )\n      setTimeout(() => {\n        setErrorMessage(null)\n      }, 5000)\n      setPersons(persons.filter(n => n.refid !== id))\n    })\n   \n}}\n\n  const addNewPerson=(event)=>{\n    console.log(event.target)\n    event.preventDefault()\n    if(persons.filter(person=>person.name.split(' ').join('')===newName.split(' ').join('')).length===1)\n    {\n      const person=persons.find(n => n.name === newName)\n      const result = window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`);\n      if(result===true)\n      {\n        updateData(person.refid,newNumber,persons,setPersons)\n      setNewName('')\n      setNewNumber('')\n      }\n    }\n    else{\n     let id=0\n     if(persons.length===0)\n     {\n       id=1\n     }\n     else{\n       id=parseInt((persons[persons.length-1].refid))+1\n     }\n    const obj={\n      refid:id,\n      name:newName,\n      number:newNumber,\n      id:id\n    }\n    insertData(obj).then(res=>{\n      const a={...obj,id:res.id}\n    setPersons(persons.concat(a))})\n    setNewNumber('')\n    setNewName('')\n    setNotificationmsg(`Added ${obj.name}`)\n    setTimeout(() => {\n      setNotificationmsg(null)\n    }, 5000)\n  }\n  }\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Error message={errorMessage}/>\n      <Notification message={notificationmsg}/>\n      <Filter filter={filter} handleFilter={handleFilter}/>\n      <h1>Add a New</h1>\n      <PersonForm addNewPerson={addNewPerson} newName={newName} handleNameChange={handleNameChange} newNumber={newNumber} handleNumberChange={handleNumberChange}/>\n      <h2>Numbers</h2>\n      <div>{persons.map((person,i)=><Persons key={i} person={person} filter={filter} handleDelete={()=>handleDelete(person.refid,person.name)}/>)}</div>\n    </div>\n  )\n  }\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <App  />,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}